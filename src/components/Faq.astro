---
import KvBanner from './KvBanner.astro';
---

<section id="faq" class="pt-0">
  <KvBanner color="sand" title="FAQ" />
  <div class="bg-white">
    <div class="max-w-7xl mx-auto px-4 lg:px-6 overlap-wrap pb-16">
      <div class="space-y-3">
        <div class="colorful-card overflow-hidden">
          <button class="w-full text-left px-5 py-4 flex items-center justify-between accordion-btn" aria-expanded="false"><span class="font-semibold">Who can nominate?</span><svg class="chev h-5 w-5 text-gray-600 transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg></button>
          <div class="hidden px-5 pb-5 text-sm text-gray-700">Nomination of individuals must be submitted by an organisation including governments, intergovernmental organisations, business entities, academic institutions, non-governmental organisations, and other relevant stakeholders.</div>
        </div>
        <div class="colorful-card overflow-hidden">
          <button class="w-full text-left px-5 py-4 flex items-center justify-between accordion-btn" aria-expanded="false"><span class="font-semibold">Who can be nominated?</span><svg class="chev h-5 w-5 text-gray-600 transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg></button>
          <div class="hidden px-5 pb-5 text-sm text-gray-700">Nominees must be a citizen of Southeast Asian countries (any of the 10 ASEAN Member States)</div>
        </div>
        <div class="colorful-card overflow-hidden">
          <button class="w-full text-left px-5 py-4 flex items-center justify-between accordion-btn" aria-expanded="false"><span class="font-semibold">Language & format</span><svg class="chev h-5 w-5 text-gray-600 transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg></button>
          <div class="hidden px-5 pb-5 text-sm text-gray-700">Submissions must be submitted in English and through the online application form with the required supporting documents and materials (including reports, books, links to visuals, articles, etc.)</div>
        </div>
        <div class="colorful-card overflow-hidden">
          <button class="w-full text-left px-5 py-4 flex items-center justify-between accordion-btn" aria-expanded="false"><span class="font-semibold">Integrity & ethics</span><svg class="chev h-5 w-5 text-gray-600 transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg></button>
          <div class="hidden px-5 pb-5 text-sm text-gray-700">Unethical behaviour (misleading information or undue pressure) may result in disqualification and/or revocation.</div>
        </div>
        <div class="colorful-card overflow-hidden">
          <button class="w-full text-left px-5 py-4 flex items-center justify-between accordion-btn" aria-expanded="false"><span class="font-semibold">What is the prize?</span><svg class="chev h-5 w-5 text-gray-600 transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg></button>
          <div class="hidden px-5 pb-5 text-sm text-gray-700">USD 20,000, the Harmony in Diversity Trophy, and participation in a curated event.</div>
        </div>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  // Attach accordion listeners after DOM is ready
  const attachAccordions = () => {
    document.querySelectorAll('.accordion-btn').forEach(btn => {
      // prevent duplicate listeners during HMR
      btn.__hidBound || (btn.__hidBound = true, btn.addEventListener('click', () => {
        const panel = btn.nextElementSibling;
        const isOpen = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!isOpen));
        if (panel) panel.classList.toggle('hidden');
      }));
    });
  };
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', attachAccordions, { once: true });
  } else {
    attachAccordions();
  }